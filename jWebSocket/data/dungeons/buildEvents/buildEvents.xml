<?xml version="1.0" encoding="UTF-8"?>
<events>
    <event id="test">
        <script>
            <![CDATA[
            _digger_.createRoom('square', {x:4, y:4, size:6, exits:0x0000});
            _digger_.createRoom('square', {x:11, y:4, size:5});
            _digger_.digCorridor(9, 5, 11, 5, _mat_DOLOMITE_FLOOR_0, _mat_DOLOMITE_WALL_0);
            
            _digger_.breed('SINK_0', _digger_.randomI(5, 9), _digger_.randomI(5, 9));
            ]]>
        </script>
    </event>
    <event id="mineralvein">
        <script>
            <![CDATA[
            var c0 = _digger_.randomI(0, _digger_.cellSize());
            var c1 = _digger_.randomI(0, _digger_.cellSize());
            
            var direction = _digger_.randomI(0, 6);
            
            var path = [];
            switch (direction) {
            case 0:
                path = utils.line(0, c0, _digger_.cellSize() - 1, c1);
                break;
            case 1:
                path = utils.line(c0, 0, c1, _digger_.cellSize() - 1);
                break;
            case 2:
                path = utils.line(0, c0, c1, _digger_.cellSize() - 1);
                break;
            case 3:
                path = utils.line(c0, 0, _digger_.cellSize() - 1, c1);
                break;
            case 4:
                path = utils.line(c0, _digger_.cellSize() - 1, c1, 0);
                break;
            case 5:
                path = utils.line(c0, 0, c1, 0);
                break;
            }
            
            var len = path.length;
            for (var i = 0; i < len; i++) {
                utils.log('coord: ' + path[i].x + ' ' + path[i].y);
                _digger_.digCellTile(path[i].x, path[i].y, _mat_GOLD_BLOCK_0);
                
                switch (direction) {
	            case 0:
	            case 2:
	            case 3:
	                _digger_.digCellTile(path[i].x, path[i].y - 1, _mat_GOLD_BLOCK_0);
	                _digger_.digCellTile(path[i].x, path[i].y + 1, _mat_GOLD_BLOCK_0);
	                break;
	            case 1:
	                _digger_.digCellTile(path[i].x + 1, path[i].y, _mat_GOLD_BLOCK_0);
	                _digger_.digCellTile(path[i].x - 1, path[i].y, _mat_GOLD_BLOCK_0);
	                break;
	            case 4:
	                path = utils.line(c0, _digger_.cellSize() - 1, c1, 0);
	                break;
	            case 5:
	                path = utils.line(c0, 0, c1, 0);
	                break;
	            }
            }
            ]]>
        </script>
    </event>
</events>